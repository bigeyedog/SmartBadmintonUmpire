<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="index.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Indie+Flower|Lobster"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Noto+Sans+HK:wght@100;300;400;500;700;900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
    />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script
      src="https://kit.fontawesome.com/147b2895a5.js"
      crossorigin="anonymous"
    ></script>
  </head>

  <body id="body">
    <div id="title">
      <p>
        <span id="span1">SMART</span><span id="span2"> Badminton </span
        ><span id="span3">UMPIRE</span>
      </p>
    </div>

    <div id="description">
      <p id="welcome">Welcome</p>
      <p>
        Smart badminton umpire is a web application designed to assist the work
        of an umpire in a badminton game. It supports both singles and doubles
        games with standard playing format. The application aids in the
        recording of scores and positioning of players in the court with serving
        player indicated in alternate color. Transition from game to game is
        automatic with minimal user input.
      </p>
    </div>

    <div id="startup">
      <button type="button" id="startbutton" onclick="startup()">Start</button>
    </div>

    <div id="type" style="display: none">
      <fieldset>
        <legend
          class="legend"
          style="margin-bottom: 0; color: chocolate; font-size: 22px"
        >
          Game type :
        </legend>
        <input
          type="radio"
          id="opt4"
          name="gametype"
          value="Singles"
          required
        />
        <label class="label" for="opt4">Singles </label><br />
        <input
          type="radio"
          id="opt5"
          name="gametype"
          value="Doubles"
          required
        />
        <label class="label" for="opt5">Doubles</label><br />
      </fieldset>
    </div>

    <br />

    <div id="point" style="display: none">
      <fieldset>
        <legend
          class="legend"
          style="margin-bottom: 0; color: chocolate; font-size: 22px"
        >
          Play format :
        </legend>
        <input
          type="radio"
          id="opt1"
          name="format"
          value="21 point game"
          required
        />
        <label class="label" for="opt1">21 point game</label><br />
        <input
          type="radio"
          id="opt2"
          name="format"
          value="21 point game (best of 3)"
          required
        />
        <label class="label" for="opt2">21 point game (best of 3)</label><br />
        <input
          type="radio"
          id="opt3"
          name="format"
          value="30 point game"
          required
        />
        <label class="label" for="opt3">30 point game</label><br />
      </fieldset>
    </div>

    <br />

    <div id="submit" style="display: none">
      <button type="submit" id="submitbutton" onclick="playerEntry()">
        Continue
      </button>
    </div>

    <script>
      function startup() {
        $("#startup").css("display", "none");
        $("#type, #point, #submit").css("display", "inline-block");
      }

      document.getElementById("submitbutton").addEventListener("click", () => {
        const gametypeSelected = document.querySelector(
          'input[name="gametype"]:checked'
        );
        const formatSelected = document.querySelector(
          'input[name="format"]:checked'
        );

        if (!gametypeSelected) {
          alert("Please select game type.");
          return;
        }

        if (!formatSelected) {
          alert("Please select play format.");
          return;
        }

        // Save to sessionStorage
        sessionStorage.setItem("gametype", gametypeSelected.value);
        sessionStorage.setItem("format", formatSelected.value);

        // Redirect based on gametype
        if (gametypeSelected.value === "Singles") {
          window.location.href = "singlePlayerEntry.html";
        } else if (gametypeSelected.value === "Doubles") {
          window.location.href = "doublePlayerEntry.html";
        }
      });
    </script>

    <script>
      // Optional: Restore the selection on page load
      // window.addEventListener('DOMContentLoaded', () => {
      //   const savedColor = sessionStorage.getItem('selectedColor');
      //   if (savedColor) {
      //     document.querySelector(`input[name="color"][value="${savedColor}"]`).checked = true;
      //   }
      // });
    </script>
  </body>
</html>
